[TOC]
# 热力线管理
## 简要描述
- 对UE场景中的热力线进行管理
## API接口
### API-添加热力线
#### API简要描述
- 向场景中添加热力线
#### 请求方式
``` js
OpenZI.Call("TrafficCongestionMap","Add", jsondata, (e) => {
    console.log(e); //成功、失败回调
})
```
#### 数据参数
|参数名|类型|说明|备注|
|:---: |:-:|:----:|:----: |
|id |string |热力线唯一标识码  | |
|GISType |int | 坐标系类型|参数 0:WGS84，1:CGCS2000,2:BD09,3:GCJ02 |
|coordinatesList     |array | 热力线点位信息 |   |
|statusList     |array | 热力线对应点位状态信息 ||
|statusColorList     |map | 热力线状态颜色值设置 ||
|lineWidth     |string | 热力线宽度 |   |
#### 数据格式参考
``` js
let jsondata = {
                    "id": "交通导航线",
                    "GISType": 0,
                    "coordinatesList": [
                        "116.38928428515,39.913466469641",
                        "116.38893011229,39.913563374866",
                        "116.38838143156,39.913790779724",
                        "116.38771751626,39.914270755101",
                        "116.38785305607,39.914811718959",
                        "116.38830480495,39.915177608172",
                        "116.38915667642,39.915177524451",
                        "116.39002676914,39.915063173497",
                        "116.39091282868,39.915012097819",
                        "116.39166448664,39.913885992705",
                        "116.39232953391,39.913771082535",
                        "116.39304602213,39.914551749225",
                        "116.39329467099,39.915468670558",
                        "116.39273383159,39.916308013575",
                        "116.39194432061,39.91662427091",
                        "116.39094844348,39.916608247581",
                        "116.38969090475,39.916653099648",
                        "116.38866686169,39.916957842769",
                        "116.38768677747,39.917318202488",
                        "116.38708904594,39.918062499778",
                        "116.38718393267,39.919234825417",
                        "116.38758206142,39.919823037958",
                        "116.38787291436,39.919745872702"
                    ],
                    "statusList": ["畅通", "畅通", "畅通", "畅通", "缓行", "缓行", "缓行", "拥堵", "拥堵", "严重拥堵", "严重拥堵", "拥堵", "畅通", "缓行", "缓行", "畅通", "畅通", "畅通", "畅通", "畅通", "未知", "未知", "未知"],
                    "statusColorList": {
                        "未知": "0.5,1,0,1",
                        "畅通": "0,1,0,1",
                        "缓行": "1,1,0,1",
                        "拥堵": "1,0.5,0,1",
                        "严重拥堵": "1,0,0,1",
                        "封禁": "0,0,0,1"
                    },
                    "lineWidth": 2
          	}
```
#### 回调格式
- 如果id存在添加会失败
``` js
let callback={
    "classDef":"TrafficCongestionMap",
    "funcDef":"Add",
    "data":{
		"result": "success"
    }
}
```
### API-删除热力线
#### API简要描述
- 删除场景中对应Id的热力线
#### 请求方式
``` js
OpenZI.Call("TrafficCongestionMap","Delete", jsondata, (e) => {
    console.log(e); //成功、失败回调
})
```
#### 数据参数
|参数名|类型|说明|备注|
|:---: |:-:|:----:|:----: |
|ids |array |需要删除的热力线的id数组 | |
#### 数据格式参考
``` js
let jsondata = {
           "ids": ["交通导航线"]
          	}
```
#### 回调格式
- 如果id不存在删除会失败
``` js
let callback={
    "classDef":"TrafficCongestionMap",
    "funcDef":"Delete",
    "data":{
		"result": "success"
    }
}
```
### API-清除热力线
#### API简要描述
- 清空场景中所有的热力线
#### 请求方式
``` js
OpenZI.Call("TrafficCongestionMap","Clear", jsondata, (e) => {
    console.log(e); //成功、失败回调
})
```
#### 数据参数
|参数名|类型|说明|备注|
|:---: |:-:|:----:|:----: |
|... |... |... |... |
#### 数据格式参考
``` js
let jsondata = {}
```
#### 回调格式
``` js
let callback={
    "classDef":"TrafficCongestionMap",
    "funcDef":"Clear",
    "data":{js
		"result": "success"
    }
}
```
### API-更新热力线
#### API简要描述
- 更新场景中对应ID的热力线
#### 请求方式
``` js
OpenZI.Call("TrafficCongestionMap","Update", jsondata, (e) => {
    console.log(e); //成功、失败回调
})
```
#### 数据参数
|参数名|类型|说明|备注|
|:---: |:-:|:----:|:----: |
|       id        | string |    热力线唯一标识码    |                                         |
|     GISType     |  int   |       坐标系类型       | 参数 0:WGS84，1:CGCS2000,2:BD09,3:GCJ02 |
| coordinatesList | array  |     热力线点位信息     |                                         |
|   statusList    | array  | 热力线对应点位状态信息 |                                         |
| statusColorList |  map   |  热力线状态颜色值设置  |                                         |
|    lineWidth    | string |       热力线宽度       |                                         |
#### 数据格式参考
``` js
let jsondata = {
                    "id": "交通导航线",
                    "GISType": 0,
                    "coordinatesList": [
                        "116.39194432061,39.91662427091",
                        "116.39094844348,39.916608247581",
                        "116.38969090475,39.916653099648",
                        "116.38866686169,39.916957842769",
                        "116.38768677747,39.917318202488",
                        "116.38708904594,39.918062499778",
                        "116.38718393267,39.919234825417",
                        "116.38758206142,39.919823037958",
                        "116.38787291436,39.919745872702",
                        "116.38869873326,39.918788853838",
                        "116.38895548891,39.918424323854",
                        "116.3893797302,39.918774740389",
                        "116.38975151697,39.919512572867",
                        "116.38918419396,39.920195880857",
                        "116.38949301539,39.920578588422",
                        "116.39083908858,39.920007275953",
                        "116.39100591221,39.919567500159",
                        "116.39140443332,39.918472917569",
                        "116.3915149412,39.918391435675",
                        "116.39249544845,39.918333632023",
                        "116.39300111842,39.91889565907",
                        "116.39361372909,39.91943948938",
                        "116.39436930078,39.919705577807"
                    ],
                    "statusList": ["畅通", "畅通", "畅通", "畅通", "缓行", "缓行", "缓行", "拥堵", "拥堵", "严重拥堵", "严重拥堵", "拥堵", "畅通", "缓行", "缓行", "畅通", "畅通", "畅通", "畅通", "畅通", "未知", "未知", "未知"],
                    "statusColorList": {
                        "未知": "0.5,1,0,0",
                        "畅通": "0,1,0,0",
                        "缓行": "1,1,0,0",
                        "拥堵": "1,0.5,0,0",
                        "严重拥堵": "1,0,0,0",
                    },
                    "lineWidth": 3
          	}
```
#### 回调格式
- 如果id不存在更新会失败
``` js
let callback={
    "classDef":"TrafficCongestionMap",
    "funcDef":"Update",
    "data":{
		"result": "success"
    }
}
```
## 备注
- 更多返回错误代码请看首页的错误代码描述