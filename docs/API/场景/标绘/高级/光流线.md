[TOC]
# 光流线
## 简要描述
- 对UE场景中的光流线进行管理
## API接口
### API-添加光流线
#### API简要描述
- 向场景中添加光流线
#### 请求方式
``` js
OpenZI.Call("LightEffectFlowLine","Add", jsondata, (e) => {
    console.log(e); //成功、失败回调
})
```
#### 数据参数
|参数名|类型|说明|备注|
|:---: |:-:|:----:|:----: |
|id |string |光流线唯一标识码  | |
|GISType |int | 坐标系类型|参数 0:WGS84，1:CGCS2000,2:BD09,3:GCJ02 |
|coordinatesList     |array | 光流线顺序点位信息 |   |
|loop     |bool | 是否闭合循环 ||
|splinePointType     |int | 样条线点类型 | 0：线性；1：曲线；2：常量；3：曲线已限制；4：曲线自定义切线 |
|lineColor |string | 基线颜色 |  |
|lineGlow |int | 基线强度 | |
|lineRadius |int | 基线半径比例 |  |
|flowNumber |int | 光流点数量 | |
|flowColor |string | 光流颜色 | |
|flowScale |int | 光流粒子缩放 | 影响光流粒子的大小 |
|flowRate |int | 光流率 | 光流率 |
|lifeTime |int | 光流粒子的生命周期 | 影响光流粒子的拖尾效果 |
#### 数据格式参考
``` js
let jsondata = {
                    "id": "LightEffectFlowLine_id",
                    "GISType": 0,
                    "coordinatesList": [
                        "116.39414548327954,39.91875746547046,63",
                        "116.39312217286418,39.919460881757416,63",
                        "116.39172233827637,39.91996449307006,63",
                        "116.39010153545644,39.920136474576935,63",
                        "116.38889840757727,39.92015537365833,63",
                        "116.38780866208032,39.91995552218939,63",
                        "116.38745681112292,39.91946913304699,63",
                        "116.38712185401018,39.919030970731974,63",
                        "116.38683035966918,39.91828441572232,63",
                        "116.38660423674543,39.91730765418114,63",
                        "116.3865508621549,39.915997165537945,63",
                        "116.38770131516696,39.914442085478505,63",
                        "116.3892747457393,39.9137731788525,63",
                        "116.39119800814954,39.91351477730463,63",
                        "116.39266408927088,39.913663792564854,63",
                        "116.39375054624938,39.914787472355634,63",
                        "116.39308775278595,39.91636786658868,63",
                        "116.39150090787754,39.91750248857527,63",
                        "116.39001662381074,39.9177391543777,63",
                        "116.38854697554201,39.91774096760977,63",
                        "116.38780371732304,39.91719579106268,63",
                        "116.38720825947654,39.916360933801315,63",
                        "116.38662653439448,39.91499933124664,63",
                        "116.3855979000234,39.914277410512355,63",
                        "116.38453770122429,39.91498513029167,63",
                        "116.3841967270234,39.91604934321027,63",
                        "116.3844118471182,39.91725337217975,63",
                        "116.38480795535062,39.91886280652889,63",
                        "116.38536344891239,39.92022730232914,63",
                    ],
                    "loop": false,
                    "splinePointType": 1,
                    "lineColor": "1, 0.553527, 0.114583, 1",
                    "lineGlow": 30,
                    "lineRadius": 4,
                    "flowNumber": 2,
                    "flowColor": "1, 0.553527, 0.114583, 1",
                    "flowScale": 60,
                    "flowRate": 1,
                    "lifeTime": 5
          	}
```
#### 回调格式
- 如果id存在添加会失败
``` js
let callback={
    "classDef":"LightEffectFlowLine",
    "funcDef":"Add",
    "data":{
		"result": "success"
    }
}
```
### API-删除光流线
#### API简要描述
- 删除场景中对应Id的光流线
#### 请求方式
``` js
OpenZI.Call("LightEffectFlowLine","Delete", jsondata, (e) => {
    console.log(e); //成功、失败回调
})
```
#### 数据参数
|参数名|类型|说明|备注|
|:---: |:-:|:----:|:----: |
|ids |array |需要删除的光流线的id数组 | |
#### 数据格式参考
``` js
let jsondata = {
			"ids": ["LightEffectFlowLine_id"]
          	}
```
#### 回调格式
- 如果id不存在删除会失败
``` js
let callback={
    "classDef":"LightEffectFlowLine",
    "funcDef":"Delete",
    "data":{
		"result": "success"
    }
}
```
### API-清除光流线
#### API简要描述
- 清空场景中所有的光流线
#### 请求方式
``` js
OpenZI.Call("LightEffectFlowLine","Clear", jsondata, (e) => {
    console.log(e); //成功、失败回调
})
```
#### 数据参数
|参数名|类型|说明|备注|
|:---: |:-:|:----:|:----: |
|... |... |... |... |
#### 数据格式参考
``` js
let jsondata = {}
```
#### 回调格式
``` js
let callback={
    "classDef":"LightEffectFlowLine",
    "funcDef":"Clear",
    "data":{
		"result": "success"
    }
}
```
### API-更新光流线
#### API简要描述
- 更新场景中对应ID的光流线
#### 请求方式
``` js
OpenZI.Call("LightEffectFlowLine","Update", jsondata, (e) => {
    console.log(e); //成功、失败回调
})
```
#### 数据参数
|参数名|类型|说明|备注|
|:---: |:-:|:----:|:----: |
|       id        | string |  光流线唯一标识码  |                                                             |
|     GISType     |  int   |     坐标系类型     |           参数 0:WGS84，1:CGCS2000,2:BD09,3:GCJ02           |
| coordinatesList | array  | 光流线顺序点位信息 |                                                             |
|      loop       |  bool  |    是否闭合循环    |                                                             |
| splinePointType |  int   |    样条线点类型    | 0：线性；1：曲线；2：常量；3：曲线已限制；4：曲线自定义切线 |
|    lineColor    | string |      基线颜色      |                                                             |
|    lineGlow     |  int   |      基线强度      |                                                             |
|   lineRadius    |  int   |    基线半径比例    |                                                             |
|   flowNumber    |  int   |     光流点数量     |                                                             |
|    flowColor    | string |      光流颜色      |                                                             |
|    flowScale    |  int   |    光流粒子缩放    |                     影响光流粒子的大小                      |
|    flowRate     |  int   |       光流率       |                           光流率                            |
|    lifeTime     |  int   | 光流粒子的生命周期 | 影响光流粒子的拖尾效果 |
#### 数据格式参考
``` js
let jsondata = {
                 "id": "LightEffectFlowLine_id",
                    "GISType": 0,
                    "coordinatesList": [
                        "116.39414548327954,39.91875746547046,63",
                        "116.39312217286418,39.919460881757416,63",
                        "116.39172233827637,39.91996449307006,63",
                        "116.39010153545644,39.920136474576935,63",
                        "116.38889840757727,39.92015537365833,63",
                        "116.38780866208032,39.91995552218939,63",
                        "116.38745681112292,39.91946913304699,63",
                        "116.38712185401018,39.919030970731974,63",
                        "116.38683035966918,39.91828441572232,63",
                        "116.38660423674543,39.91730765418114,63",
                        "116.3865508621549,39.915997165537945,63",
                        "116.38770131516696,39.914442085478505,63",
                        "116.3892747457393,39.9137731788525,63",
                        "116.39119800814954,39.91351477730463,63",
                        "116.39266408927088,39.913663792564854,63",
                        "116.39375054624938,39.914787472355634,63",
                        "116.39308775278595,39.91636786658868,63",
                        "116.39150090787754,39.91750248857527,63",
                        "116.39001662381074,39.9177391543777,63",
                        "116.38854697554201,39.91774096760977,63",
                        "116.38780371732304,39.91719579106268,63",
                        "116.38720825947654,39.916360933801315,63",
                        "116.38662653439448,39.91499933124664,63",
                        "116.3855979000234,39.914277410512355,63",
                        "116.38453770122429,39.91498513029167,63",
                        "116.3841967270234,39.91604934321027,63",
                        "116.3844118471182,39.91725337217975,63",
                        "116.38480795535062,39.91886280652889,63",
                        "116.38536344891239,39.92022730232914,63",
                    ],
                    "loop": false,
                    "splinePointType": 1,
                    "lineColor": "1, 0.553527, 0.114583, 1",
                    "lineGlow": 20,
                    "lineRadius": 1,
                    "flowNumber": 8,
                    "flowColor": "1, 0.553527, 0.114583, 1",
                    "flowScale": 40,
                    "flowRate": 0.5,
                    "lifeTime": 0.1
          	}
```
#### 回调格式
- 如果id不存在更新会失败
``` js
let callback={
    "classDef":"LightEffectFlowLine",
    "funcDef":"Update",
    "data":{
		"result": "success"
    }
}
```
## 备注
- 更多返回错误代码请看首页的错误代码描述